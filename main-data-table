<html>


<?php
require 'gapi.class.php';
define('ga_profile_id','123947637');

$ga = new gapi("anshumalab@versatile-lotus-134309.iam.gserviceaccount.com", "example-c1728edf3d80.p12");

 
 $dimension1=($_GET["dimension1"]);
 $dimension2=($_GET["dimension2"]);

//$filter = 'country == India';

$ga->requestReportData(ga_profile_id,array($dimension1,$dimension2),array('pageviews','visits'),'-visits',$filter);
?>
<table>
<tr>
  <th><?php echo $dimension1; ?> </th>
  <th>Pageviews</th>
  <th>Visits</th>
</tr>
<?php
foreach($ga->getResults() as $result):
?>
<tr>
  <td><?php echo $result ?></td>
  <td><?php echo $result->getPageviews() ?></td>
  <td><?php echo $result->getVisits() ?></td>
</tr>
<?php
endforeach
?>
</table>

<table>
<tr>
  <th>Total Results</th>
  <td><?php echo $ga->getTotalResults() ?></td>
</tr>
<tr>
  <th>Total Pageviews</th>
  <td><?php echo $ga->getPageviews() ?>
</tr>
<tr>
  <th>Total Visits</th>
  <td><?php echo $ga->getVisits() ?></td>
</tr>
<tr>
  <th>Result Date Range</th>
  <td><?php echo $ga->getStartDate() ?> to <?php echo $ga->getEndDate() ?></td>
</tr>
</table>

</html>
